<!DOCTYPE html>
<head >
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
<title>city</title>
<!-- 大搜索通用样式 -->
<link rel="stylesheet" type="text/css" href="http://s1.qhimg.com/static/b9533b44a0e8ed12.css"/>
<link rel="stylesheet" href="http://s4.qhimg.com/static/c8243de50db4649c/mocha.css" />
</head>
<body>

<div id="main">
	<div class="r-results">
		<div class="res-list mohe-cards" id="mohe-m-xxx" style="height:2000px;">
			<div class="mohe-card" style="margin-top: 200px;">
				<input id="test" type="text" value="" style="width:96%;height:50px;padding:0 2%;">
			</div>
		</div>
	</div>
</div>

<style type="text/css">
.page-panel {
	background: white;
	position: fixed;
	z-index: 101;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	display: -webkit-box;
	display: -webkit-flex;
	display: flex;
	-webkit-box-orient: vertical;
	-webkit-flex-direction: column;
	flex-direction: column;
}

.city-panel .input-wrap {
	position: relative;
	z-index: 1;
	background: #eeeeee;
	padding: 5px;
	-webkit-box-shadow: 0 0px 4px 1px;
	box-shadow: 0 0px 4px 1px;
}
.city-panel .input-box {
	display: -webkit-box;
	display: -webkit-flex;
	display: flex;
	height: 35px;
	border: 1px solid #cbcbcb;
	background: white;
	overflow: hidden; /*不加，input框右侧显示有bug*/
}
.city-panel .input-box form {
	-webkit-box-flex: 1;
	-webkit-flex: 1;
	flex: 1;
}
.city-panel .input-box input {
	display: block;
	width: 100%;
	height: 35px;
	outline: none;
	padding: 0 5px;
	font-family: "Microsoft Yahei";
}
.city-panel .input-box button {
	display: block;
	margin: 5px 0;
	padding: 0 10px;
	border-left: 1px solid #cbcbcb;
	background-color: white;
	color: #999;
	outline: none;
}

.city-panel .city-wrap {
	-webkit-box-flex: 1;
	-webkit-flex: 1;
	flex: 1;
	position: relative;
}
.city-panel .item-wrap,
.city-panel .suggest-wrap {
	position: absolute;
	overflow: hidden;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.city-panel .item-wrap {
	display: -webkit-box;
	display: -webkit-flex;
	display: flex;
	-webkit-box-orient: vertical;
	-webkit-flex-direction: column;
	flex-direction: column;
}
.city-panel .item-location button {
	display: block;
	width: 4em;
	height: 2em;
	outline: none;
	background-color: #fff;
	font-family: "Microsoft Yahei";
	border-radius: 3px;
	box-shadow: 1px 1px 3px rgba(0,0,0,.3);
}
.city-panel .item-data {
	-webkit-box-flex: 1;
	-webkit-flex: 1;
	flex: 1;
	position: relative;
	overflow: hidden;
}
.city-panel .item-scroller {
	position: absolute;
	width: 100%;
	z-index: 0;
}
.city-panel .item-elevator {
	position: absolute;
	z-index: 1;
	right: 10px;
	top: 10px;
	display: -webkit-box;
	display: -webkit-flex;
	display: flex;
	-webkit-box-orient: vertical;
	-webkit-flex-direction: column;
	flex-direction: column;
	font-size: small;
	color: #c5c8cf;
	text-align: center;
	max-height: 95%;
}
.city-panel .item-elevator.active {
	background: rgba(0,0,0,.2);
	color: white;
}
.city-panel .item-elevator li {
	-webkit-flex: 0 1 1.5em;
	flex: 0 1 1.5em;
	padding: 0 20px;
	margin-left: -10px;
	margin-right: -10px;
}
.city-panel .item-elevator li:first-child {
	padding-top: .5em;
}
.city-panel .item-elevator li:last-child {
	padding-bottom: .5em;
}

.city-panel .item-tip {
	position: absolute;
	z-index: 1;
	top: 10px;
	right: 50px;
	width: 50px;
	line-height: 50px;
	font-size: 34px;
	font-family: Microsoft Yahei;
	text-align: center;
	background: #5cb642;
	color: white;
}

.city-panel .suggest-wrap {
	background: rgba(255,255,255,.9);
	display: none;
	z-index: 1;
}


/*item-list*/
.city-panel .list-item {
	border-bottom: 1px solid #cccccc;
	text-align: left;
	padding: 14px 35px;
}
.city-panel .suggest-wrap .list-item {
	padding: 14px 15px;
}
.city-panel .city-curr,
.city-panel .city-wrap .item-hot dt {
	display: -webkit-box;
	-webkit-box-align: center;
	display: flex;
	align-items: center;
}
.city-panel .city-curr::before{
	content: "";
	display: block;
	width: 15px;
	height: 20px;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAoCAYAAADpE0oSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2tpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1QTk4QThCNTAyNzJFMzExOUU0QkJBQjhBNUU1NEVCNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRjU4OTY1ODgzMzExMUUzQjRFN0RGQzdFQUE5MTQ5RCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRjU4OTY1NzgzMzExMUUzQjRFN0RGQzdFQUE5MTQ5RCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpkOGZmYWY0Zi05NGI2LTQ0NTItYjNjOS00MzQ1ODlkMmZiNDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUE5OEE4QjUwMjcyRTMxMTlFNEJCQUI4QTVFNTRFQjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5W7GSlAAACmElEQVR42rSXPWhUQRSF3+ZnEcQkhSZ9/MFCRQMW2idBgxZGURAsBBcSRW39i2AUCxuNZFUCdkFQBBFTiCBaqoVILFYI2gREs2BMobiuxnPkPNDl7dyZl30HPljevXPPG97OzJ1coVCIPNQK+kEv2Aq6QYdi8+A9eAWegMfgp1WwxYiz+EkwDFbVyekS28BxUAbj4KpeKlFNDtMDoATOO0yTtFJjSqrhbdwMiuCOZpJWXapRVE2nMRPugqGocRpSzWaXMb/LnqjxYs1r9Yz3g2NRdjoqj/+M+e8di7LXWLwMY2MumU6PgVwqp8EmsExsBiOKWeqU11/jvNappftgDbgMpsEP8QaMgtXKsUSvPI37PNYpC+4DXx05C8qxzOnVFxu7NAcOg0WP2Swq97OR10/jHiPpumbjqwUtS5d6aLzOSHqY4t/7yIivpXG7kVRKYfzOiLc3ZbRe80Y8R+MvRtL6FMbdRnyexjNG0u4UxgNGfIbGL4wk7t9tAaZt8e7k0EsaT3lsc7f5XTxMc8q1tt8pGj9Tz+TSoM7UFY4cxu4p16UP4CmNf4MrHrPZqxc8BTaoAVwOtoCzig161LkEfuXUZbLpe62CWYp7wkZQjddxFRwClQxNY49qbQfCGZ/L0PiCeu/EnovfejID0wfgoqvZ47F2xGNth4i1DtYeq0l79XddV6YbYMoau8A335sEO42dYHYJprOqMRd6heHAHfUGejSFzhe3jsW36qNClllFm43zU/mcx891C/TVCY2JlmpM3dI+bIk5N30KhnQgw0bTXvbsz4ONy9rgXZt/OQvjSHfdTwnP+exGSKFQY/5jJxKeT+g6k5lxPOtKzcsUQ4ukMf5Yc5BM6lmQWqJ0OgO2//M7WH8EGAD/oIZimAzpXwAAAABJRU5ErkJggg==) no-repeat;
	-webkit-background-size: cover;
	background-size: cover;
	margin-left:-20px;
	margin-right: 5px;
}
.city-panel .city-wrap dt {
	background: #e9e9e9;
}
.city-panel .city-wrap .item-hot dt::before{
	content: "";
	display: block;
	width: 13px;
	height: 16px;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAgCAYAAAAMq2gFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2tpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1QTk4QThCNTAyNzJFMzExOUU0QkJBQjhBNUU1NEVCNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzIzQ0QwNzgzNDIxMUUzOEU1N0IyNTc5REMyNjUxMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzIzQ0QwNjgzNDIxMUUzOEU1N0IyNTc5REMyNjUxMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpkOGZmYWY0Zi05NGI2LTQ0NTItYjNjOS00MzQ1ODlkMmZiNDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUE5OEE4QjUwMjcyRTMxMTlFNEJCQUI4QTVFNTRFQjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6eG/5JAAACo0lEQVR42rSWXUgVURDHrzfNbpKaJSF4LcxAIRVTkaIPrAiKQEkIExSkuohBPklBQVLvPmYa0UPQo4L5oEhPmQV9IFqREJZmCiJpoURZ2X9gFobD2dndqw382N2z58x/95w5cyYhFouF1mAVoBh0eXUMxymQAK6DIfDGz4DEOES2gIfgNJgEz/6HUCYYACX83A9W11toO3gMCkXbc7+D/a7RJtBniIT8rk8QodscYabNKWN2gvQgQrWgMY4P3Qoa/AqlgXYPZ26WCs7bhKJgg9G5FWQpzqIe74pAuSnUAv6I5xRwyeOPDyrvyvlaJ4XyQJXR8YxcTBdr4CmyZQ7HX7UUoi/PsASBl+0AnSDJaG8Cu/iervm0YZNBPQvR4i6ACKi0OP4NfoHNxgcV8BaglHQYXDHGVZLQEbBNZON+FokYnT+DGtBtCIU4g3cqf15KU3dKNBzl6zGj4wde+BecVINaIQmViYazvJAymr6Bk2BKTJ/NVhShnDBHnEwbFCX7RNs1/iPHvlocLYE7ilB6WKyPY10iq89ZTs9ZiyMSGVSEksIcReZx4Fi3ZUqGjGea0lvgvSI0S0ITSod3lra7YFkcExRM38Gi4meMpmgU7A0QQZ94G9D+GwF/uT2ijBmmP3qidNjj0v4WvBYiZNmKnwES6jUGSKu2ZHQ32+/SThH7koRmlIiJ8h7yU36dc3lHGWPVSao3lWqmDWz0EKIDrtTSPg06ZPYeVqpNcvDI5QCkdHRD2ayXnQiV5dZVznF5lgEnwEcOnAmeqlxOVckuIg9Aj62uW+T1oNotxzKQHB73GRhUZF7UqhiKkAPg6RoK/w4+XX96lUtf+PC6AMYDCLziKW42RbSSmPbVPXCf142m7BDYzfX3DzAvivwer/L4nwADAOMid0Viwz30AAAAAElFTkSuQmCC) no-repeat;
	-webkit-background-size: cover;
	background-size: cover;
	margin-right: 7px;
	margin-left: -20px;
}
.city-panel .city-wrap .item-hot dt::after{
	content: "门城市";
}
.city-panel .sugg-item {
	display: -webkit-box;
}
.city-panel .sugg-item-cont {
	-webkit-box-flex: 1;
}
.city-panel .sugg-item-copy {
	background: url('http://p1.qhimg.com/t0129eae3267053f012.png') no-repeat center center;
	background-size: 13px 11px;
	width: 13px;
}
.city-panel .item-location{
	padding: 14px 15px 14px 35px;
	display: -webkit-box;
	display: -webkit-flex;
	display: flex;
	-webkit-box-orient: horizontal;
	-webkit-box-pack:justify;
	-webkit-justify-content:space-between;
	justify-content:space-between;
	background: #eee;
}
</style>
<div class="city-panel page-panel" style="display:none;">
	<div class="input-wrap">
		<div class="input-box">
			<form class="input-form">
				<input type="text" placeholer="请输入城市名称"/>
			</form>
			<button type="button" style="display:none;">取消</button>
		</div>
	</div>
	<div class="city-wrap">
		<div class="item-wrap">
			<div class="item-location list-item">
				<div class="city-curr">当前城市：<span class="cp-location sugg-item-cont"></span></div>
				<button type="button" class="panel-cancel">取消</button>
			</div>
			<div class="item-data">
				<div class="item-scroller">
					<div class="item-hot">
						
					</div>
					<div class="item-list">
						
					</div>
				</div>
				<ul class="item-elevator"></ul>
				<div class="item-tip"></div>
			</div>
		</div>
		<div class="suggest-wrap">
			<div class="sugg-list"></div>
		</div>
	</div>
	<script type="text/x-handlebars-template" class="item-template">
		{{#each list}}
			<dl>
				<dt class="list-item" data-key="{{@key}}">{{@key}}</dt>
				{{#each this}}
					<dd class="list-item sugg-item sugg-item-cont">{{this.name}}</dd>
				{{/each}}
			</dl>
		{{/each}}
	</script>
	<script type="text/x-handlebars-template" class="sugg-template">
		<ul>
			{{#each list}}
				<li class="list-item sugg-item">
					<div class="sugg-item-cont">{{this.name}}</div>
					<div class="sugg-item-copy"></div>
				</li>
			{{/each}}
		</ul>
	</script>
</div>

<script type="text/javascript" src="http://s0.qhimg.com/static/24fee17ef5eeefee/zepto_touch_fx.112.js"></script>
<script type="text/javascript" src="http://s0.qhimg.com/static/05e5e157e7b8d30d/mocha.js"></script>
<script type="text/javascript" src="http://s4.qhimg.com/static/3277fa15cc2352ec/chai.js"></script>
<script type="text/javascript" src="http://s0.qhimg.com/static/a544ceb156ebf3bf/sinon.js"></script>

<script src="../libs/widget.js"></script>
<script src="../libs/suggest.js"></script>
<script src="../libs/handlebars.js"></script>
<script src="../libs/iscroll-probe.js"></script>
<script src="../libs/elevator.js"></script>
<script src="../libs/scrollTips.js"></script>
<script src="../libs/pagePanel.js"></script>

<script src="../src/citypick.js"></script>

<script src="http://s6.qhimg.com/!b5ea8e7a/m-city-v1.js"></script>
<script type="text/javascript">
(function(){
	window.list = {};
	
	$.each(cityList, function(index, item){
		var tmpGroup = item.nameEn ? item.nameEn.charAt(0).toUpperCase() : '#';
		
		if (!(list[tmpGroup] instanceof Array)) {
			list[tmpGroup] = [];
		}
		
		list[tmpGroup].push(item);
	});
})();
</script>
<script type="text/javascript">
	var citypick = new Citypick({
		cityList: cityList,
		cityGroupList: list,
		element: $('.city-panel')
	});

	$('#test').on('focus', function(){
		citypick.show(this.value);
	});
	citypick.on('select', function(e, d){
		$('#test').val(d.value);
	});
</script>
</body>
</html>
